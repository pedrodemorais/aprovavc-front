<div class="aba-container">
  <p-tabView>
    <!-- Aba Dados B√°sicos -->
    <p-tabPanel header="Dados B√°sicos">
      <form [formGroup]="empresaForm">
        <div class="form-section">


          <div class="linha">

            <div class="agrupamento-campos">

              <div class="linha">
              <div class="field half-width">
                <label for="nome">Nome</label>
                <input id="nome" type="text" pInputText formControlName="nome" />
              </div>

              <div class="field half-width">
                <label for="email">E-mail</label>
                <input id="email" type="email" pInputText formControlName="email" />
              </div>
              </div>
               <div class="linha">
              <div class="field half-width">
                <label for="ativo">Status</label>
                <input id="ativo" type="text" pInputText formControlName="ativo" readonly />
              </div>
              <div class="field half-width" formGroupName="empresa">
                <label for="tipoDePessoa">Tipo de Pessoa</label>
                <p-dropdown id="tipoDePessoa" formControlName="tipoDePessoa" [options]="tipoDePessoa"
                  placeholder="Selecione o tipo">
                </p-dropdown>
              </div>
              </div>


            </div>

            <div class="logotipo-container">


              <div class="logo-container">

                <div class="imagem-logo">
                  <img *ngIf="logoPreview" [src]="logoPreview" alt="Logomarca da Empresa" class="logo-preview" />
                </div>


              </div>
            </div>
          </div>

          <div class="separador"></div>

          <div formGroupName="empresa">
            <div class="linha">
              <div class="field third-width">
                <label for="nomeFantasia">{{ isPessoaJuridica() ? 'Nome Fantasia' : 'Nome' }}</label>
                <input id="nomeFantasia" type="text" pInputText formControlName="nomeFantasia" />
              </div>

              <!-- üîπ SOMENTE EXIBE SE FOR PESSOA JUR√çDICA -->
              <div class="field third-width" *ngIf="isPessoaJuridica()"
                [ngClass]="{'erro-campo': empresaForm.get('empresa.documento')?.invalid && empresaForm.get('empresa.documento')?.touched}">
                <label for="razaoSocial">Raz√£o Social</label>
                <input id="razaoSocial" type="text" pInputText formControlName="razaoSocial" />

                <!-- üî• Exibe erro caso seja obrigat√≥rio -->

                <small
                  *ngIf="empresaForm.get('empresa.razaoSocial')?.invalid && empresaForm.get('empresa.razaoSocial')?.touched">
                  ‚ö†Ô∏è {{ isPessoaJuridica() ? 'Raz√£o Social ' : '' }} √© obrigat√≥ria!
                </small>
              </div>

              <div class="field third-width"
                [ngClass]="{'erro-campo': empresaForm.get('empresa.documento')?.invalid && empresaForm.get('empresa.documento')?.touched}">
                <label for="documento">{{ isPessoaJuridica() ? 'CNPJ' : 'CPF' }}</label>
                <input id="documento" type="text" pInputText formControlName="documento"
                  [mask]="isPessoaJuridica() ? '00.000.000/0000-00' : '000.000.000-00'"
                  placeholder="{{ isPessoaJuridica() ? 'CNPJ' : 'CPF' }}" />
                <small
                  *ngIf="empresaForm.get('empresa.documento')?.invalid && empresaForm.get('empresa.documento')?.touched">
                  ‚ö†Ô∏è {{ isPessoaJuridica() ? 'CNPJ' : 'CPF' }} √© obrigat√≥rio!
                </small>
              </div>

            </div>

            <div class="linha">
              <div class="field third-width">
                <label for="segmentoAtividade">Segmento de Atividade</label>
                <input id="segmentoAtividade" type="text" pInputText formControlName="segmentoAtividade" readonly />
              </div>

              <div class="field third-width">
                <label for="tipoDeNegocio">Tipo de Neg√≥cio</label>
                <input id="tipoDeNegocio" type="text" pInputText formControlName="tipoDeNegocio" readonly />
              </div>
              <div class="field third-width">
                <label for="emai">Email Empresarial</label>
                <input id="email" type="text" pInputText formControlName="email" readonly />
              </div>

            </div>

            <div class="linha">
              <div class="field third-width">
                <label for="telefone">Telefone</label>
                <input id="telefone" type="text" pInputText formControlName="telefone" readonly />
              </div>

              <div class="field third-width">
                <label for="dataCriacao">Data de Cria√ß√£o</label>
                <input id="dataCriacao" type="text" pInputText formControlName="dataCriacao" readonly />
              </div>

              <div class="field third-width">
                <label for="dataAtualizacao">√öltima Atualiza√ß√£o</label>
                <input id="dataAtualizacao" type="text" pInputText formControlName="dataAtualizacao" readonly />
              </div>
            </div>
          </div>

        </div>
      </form>
    </p-tabPanel>

    <!-- Aba Endere√ßo -->
    <p-tabPanel header="Endere√ßo">
      <form [formGroup]="empresaForm">
        <div formGroupName="empresa">
          <div formGroupName="endereco">
            <div class="linha">
              <div class="field half-width">
                <label for="logradouro">Logradouro</label>
                <input id="logradouro" type="text" pInputText formControlName="logradouro" readonly />
              </div>

              <div class="field small-width">
                <label for="numero">N√∫mero</label>
                <input id="numero" type="text" pInputText formControlName="numero" readonly />
              </div>
            </div>

            <div class="field small-width">
              <label for="complemento">Complemento</label>
              <input id="complemento" type="text" pInputText formControlName="complemento" readonly />
            </div>
            <div class="uf-municipio-cep">

              <div formGroupName="municipio">

                <div class="espacamento-entre-campos">
                  <!-- UF -->
                  <div class="field small-width">
                    <label for="uf">Estado (UF)</label>
                    <select id="uf" formControlName="uf" (change)="onUfChange($event)">
                      <option *ngFor="let estado of listaDeUfs" [value]="estado">{{ estado }}</option>
                    </select>
                  </div>

                  <!-- Munic√≠pio -->
                  <div class="field small-width">
                    <label for="cidade">Munic√≠pio</label>
                    <select id="cidade" formControlName="municipioIbge">
                      <option *ngFor="let municipio of listaMunicipios" [value]="municipio.nome">
                        {{ municipio.nome }}
                      </option>
                    </select>
                  </div>

                </div>

              </div>

              <div class="field small-width">
                <label for="cep">CEP</label>
                <input id="cep" type="text" pInputText formControlName="cep"
                  [value]="empresaForm.get('empresa.endereco.cep')?.value || ''" />
              </div>

            </div>

          </div>

        </div>
        <div class="separador"></div>
        <div formGroupName="empresa" class="field">
          <label for="observacao">Observa√ß√£o</label>
          <textarea id="observacao" pInputTextarea formControlName="observacao"></textarea>
        </div>
      </form>
    </p-tabPanel>

    <p-tabPanel header="Par√¢metros">
      <form [formGroup]="empresaForm">

        <div formGroupName="empresa">


          <label for="exigeDocNoCadastro">Obrigar CPF/CNPJ nos cadastros</label>
          <p-dropdown id="exigeDocNoCadastro" formControlName="exigeDocNoCadastro"
            [options]="[{ label: 'Sim', value: true }, { label: 'N√£o', value: false }]"
            placeholder="Selecione uma op√ß√£o">
          </p-dropdown>


        </div>





        <div class="logo-container">

          <div class="imagem-logo">
            <img *ngIf="logoPreview" [src]="logoPreview" alt="Logomarca da Empresa" class="logo-preview" />
          </div>


        </div>

        <div class="caminho-logo">
          <input type="file" id="logoEmpresa" (change)="onLogoUpload($event)" accept="image/*" />
        </div>




      </form>
    </p-tabPanel>


  </p-tabView>

</div>